import { getPage, getSingleType } from "@lwo/cms";
import { HeroCarousel } from "@lwo/ui/components";
import { pages } from "cms/pages";
import type { Metadata } from "next";
import { notFound } from "next/navigation";
import { singleTypeSlugs } from "single-types";
import { PageContent } from "web-components/page-content";

export const metadata: Metadata = {
  title: "Create Turborepo",
  description: "Generated by create turbo",
};

export default async function Page() {
  const page = await getPage(pages.HOME.slug);
  const heroCarousel = await getSingleType(singleTypeSlugs.HERO_CAROUSEL);

  console.log(page);

  if (!page) {
    return notFound();
  }

  return (
    <>
      <HeroCarousel data={heroCarousel} />
      <PageContent page={page} />
    </>
  );
}
